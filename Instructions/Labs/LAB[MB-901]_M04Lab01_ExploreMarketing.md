---
lab:
    title: '实验室教学 01: 探索 Dynamics 365 Marketing'
    module: '模块 04: Dynamics 365 Marketing 简介'
---

# MB-901: Dynamics 365 基础知识 
## 模块 4，实验室 1 - 探索 Dynamics 365 Marketing

**先决条件：** 在执行本实验的步骤之前，请执行以下任务： 
1. 转到 **“市场营销”** > **“文件”**。
1. 单击 **“新建”**。
1. 单击 **“添加文件”**。
1. 从你的台式电脑上传至少一张图像。
1. 单击 **“上传”**。
1. 上传完成后，单击 **“完成”**。

**选填项:**  

1. 在你的 Dynamics 365 实例中，单击 **“齿轮图标”**，然后从下拉列表中选择 **“高级设置”**。然后导航到 **“设置”** > **“系统”** > **“数据管理”**。 
1. 选择 **“示例数据”**。 
1. 如果未安装示例数据，请选择 **“安装样本数据”**。示例数据可能需要几分钟才能显示，但你可在安装应用程序时继续使用它。 
1. 选择 **“关闭”**。 

### 创建有吸引力的电子邮件

1. 前往 **“市场营销”** > **“市场营销电子邮件”**。这会将你带到现有市场营销电子邮件的列表。在命令栏上选择 **“新建”**。
1. **“新建市场营销电子邮件”** 页面将打开，并显示 **“选择一个电子邮件模板”** 对话框。对于本练习，应选择 **“空白”** 模板，以便可以逐步完成所有必需内容。然后选择 **“选择”** 将模板应用于新邮件。  **提示：** 系统提供了几个现成的标准模板，你还可以创建自己的模板，这些模板具有组织的图形标识、必需元素和消息传递标准。详细信息：https://docs.microsoft.com/dynamics365/marketing/create-templates） 
1. **“选择电子邮件模板”** 对话框将关闭，并且所选模板中的内容（如果有）会复制到你的设计中。 
1. 在右上角的 **“名称”** 和 **“状态描述”** 字段旁边的下拉列表中，选择向下箭头以打开一个下拉对话框，然后输入新邮件的 **“名称”**。
1. 为邮件输入 **“主题”**。主题是一项重要设置，因为它是收件人在收到电子邮件时看到的第一批内容之一，他们可以通过主题来决定是否阅读邮件。
1. 现在，在页面的主要部分中会看到设计区域（在左侧），可以在其中拖动、排列和输入内容。如果选择了空白模板，则你的设计仅包含一个单列分区（布局）元素，其中没有任何内容。 
1. 页面右侧的 **“工具箱”** 提供了用于构建邮件的设计元素。将 **“文本”** 元素从 **“工具箱”** 选项卡拖到分区元素。将元素拖到合适的位置后，将显示一个蓝色阴影区域。释放鼠标按钮以将元素放在该位置。
1. 放置文本元素时，会在该元素内看到一些占位符文本，并且会在其正下方或正上方看到一个浮动工具栏。
1. 选择并删除占位符文本，然后添加自己的文本。使用工具栏按钮设置文本样式，就像在 Microsoft Word 之类的文本编辑器中设置一样（指向任何工具栏按钮以查看其作用）。大多数按钮用于设置文本和段落的样式，但是也有用于创建链接的按钮；输入动态文本（稍后会详细介绍）；以及移动、复制或删除整个文本元素。**提示：**你在页面上输入的最开始的文本特别重要，因为大多数电子邮件客户端将其显示为收件箱列表中邮件的预览文本。它在 Microsoft Outlook 中的外观如下：
1. 个性化邮件的一种简单方法是在问候语中包含收件人的姓名。通过使用 **协助编辑</>** 功能，将收件人的姓名添加为动态文本，如下所示：
    - 处理你刚刚添加的文本元素，输入一个合适的抬头，例如“尊敬的”。
    - 在弹出工具栏上，选择“协助编辑”按钮。这将打开协助编辑对话框。
    - **备注:** 协助编辑可帮助构建有效的动态表达式，以定位来自收件人联系人记录的字段值、邮件内容设置和其他数据库值。每当在图形设计器中选择文本元素时，此按钮会在文本格式工具栏上提供。还为某些设置字段（如主题、发件人地址和发件人名称字段）提供了该按钮。
  - 选择 **“动态内容”** 单选按钮，然后从这里的组合框中选择 **“联系人”**。 **“动态”** 设置意味着你将放置一个与使用邮件的上下文相关的动态值，而 **“联系人”** 设置表示上下文与邮件的单个收件人（联系人）有关。
  - 选择 **“下一个”** 继续到辅助编辑工具的下一页。 
  - 为关系选择 **“没有关系”**。
  - 在前一页上，选择联系人设置实体（在上下文中）。在此页面上，必须从该实体中选择要放置的字段。我们正在生成称呼语，因此想在此处显示收件人的姓名。选择 **“属性”** 单选按钮，然后开始在此处的组合框中键入“名称”。这将在可用字段中搜索包含文本“名称”的字段，这将大大减少你需要浏览的字段数。只要能从列表中看到 **“名称”**，就尽快选择它。 
  - 选择 **“确定”** 放置你已构建的表达式并关闭辅助编辑工具。完整的称呼语现在如下所示：**尊敬的{{Contact.FirstName}},**。  **提示：** 你可能已经注意到 **“主题”** 字段中还有一个辅助编辑按钮。这意味着你也可以在主题中放入动态文本（包括收件人的姓名）。
11.	所有电子邮件的正文都必须包含订阅中心链接和你组织的实际地址。这些是许多司法管辖区的法律所要求的，并且 **“Dynamics 365 Marketing”** 不会让你发布任何没有电子邮件的营销电子邮件。如下使用辅助编辑放置它们：
  - 选择适合你 **“实际地址”** 的位置，然后使用辅助编辑将其放置。在辅助编辑工具的第一页中选择 **“Dynamic”** 然后 **“ContentSettings”**。选择 **“下一个”** 然后选择 **“没有关系”**。对于第二页上的 **“选择字段”** 和 **“主地址”**。选择 **“插入”** 将表达式 {{msdyncrm_contentsettings.msdyncrm_addressmain}} 放入你的消息中。
  - 为订阅中心链接选择一个合适的位置，然后在其中输入一些定位文本（例如“管理你的订阅”）。选择该定位文本，然后在浮动工具栏中选择 **“链接”** 按钮，打开 **“链接”** 对话框。为 **“链接”** 字段选择 **“协助编辑”** 按钮。在“协助编辑”对话框中，在第一页上选择 **“动态”**，然后选择 **“内容设置”**。选择 **“没有关系”**。对于“选择”栏位，请在第二页上选择 **“订阅中心”**。 
  - 选择 **“插入”** 将表达式{{msdyncrm_contentsettings.msdyncrm_subscriptioncenter}} 放入 **“链接”** 栏位。然后选择 **“确定”**。
12. 通常，你应该在设计中至少包含一个可见图像，因为这将邀请收件人加载图像，这是 Dynamics 365 Marketing 记录消息打开事件所必需的。从 **“工具箱”** 拖一个 **“图像”** 元素放在画布上。这次，当你放下该元素时，会看到图片占位符和 **“属性”** 标签，其中显示了所选元素的配置设置。
13. 在 **“属性”** 选项卡，选择 **“资源”** 栏右侧的 **“图片库”** 按钮。 **“选择一个文件”** 对话框打开。可在这里查看已经上传到 Dynamics 365 Marketing 服务器的所有图像。选择一个图像，然后选中“选择”以将其放置在邮件设计中。（如果看不到任何图像，请选择”上传“以添加新图像。）    -       - **提示：** 消息上线后， **Dynamics 365 Marketing**会将库中所有相关图像上传到它的内容交付网络，在该网络中，所有相关图像可以作为单一来源使用。图片并没有附加到每条消息中，而是作为通过 **Dynamics 365 Marketing** 重定向的链接包含在每条消息内，用于跟踪目的。收件人在打开邮件之前不会下载任何图片，这样可以为你和他们节省带宽。当收件人的电子邮件客户端请求图像时， **Dynamics 365 Marketing** 知道该消息已被打开，以及由谁打开。
1. 现在，你的消息包括所有必需和推荐的最小内容，因此请转到 **“预览”** 选项卡，大致了解如何在各种屏幕尺寸上呈现它，以及如何解析其动态内容。使用最左列中的按钮选择要预览的屏幕尺寸和方向。使用 **“物产”** 列中的 **“联系人”** 和 **“内容设置”** 栏，查看动态内容如何针对各种收件人和设置进行解析。
1. 要确保你的消息包含所有必需的内容并准备发送，请在命令栏中选择 **“检查错误”**。Dynamics 365 Marketing 将检查你的消息，然后在页面顶部的通知栏中显示结果。如果发现多个错误，请选择扩展按钮以查看所有错误。如果遵循此过程，你的邮件应通过错误检查。如果没有，请阅读错误消息，修复报告中的问题，然后再次尝试直到通过。
1. 到目前为止，已模拟你的预览和错误检查。最终的测试是将邮件传递给自己，在你的电子邮件程序中打开它，然后检查结果。在命令栏上选择 **“测试发送”**。 **“快速创建”** 窗体将从一侧滑入。在提供的字段中输入自己的 **“电子邮件地址”**，然后选择 **“测试联系人”** 和 **“测试内容设置”** 记录，以在解析动态内容时使用（这些记录的工作方式与模拟的预览相同）。选择 **“保存”** 给自己发送邮件。你应该会在几分钟之后收到它。
1. 如果你的邮件在收件箱中收到并打开后看起来还不错，则可以在命令栏上选择 **“上线”** 来发布它。**Dynamics 365 Marketing** 会将你的设计复制到电子邮件市场营销服务，从而使邮件可供客户旅程使用（但尚未传递任何邮件）。发布过程还会激活任何动态代码，并将链接替换为通过 **Dynamics 365 Marketing**（识别收件人并记录单击）重定向的可跟踪版本。最后，你的邮件 **“状态描述”** 会更新为“活动”。
  - **提示:** 邮件处于活动状态时，它会被锁定以便在 Dynamics 365 Marketing 中进行编辑。如果需要编辑实时邮件，你必须首先在 Dynamics 365 Marketing 中将其打开，然后在命令栏上选择 **“停用”**。
  
### 精准定位受众

**场景:** 你需要设置一组细分，使用类似于你已经用于描述客户组的术语来加以定义。 
然后，将使用这些细分来定位市场营销计划，如电子邮件市场营销活动和客户旅程。使用一组规则和条件定义的这些细分称为动态细分，因为这些细分中的成员身份会根据你数据库中的信息不断自动变化。备注：静态细分通过明确添加联系人来填充，一次添加一个。

1. 前往 **“营销”** > **“联系人”**。这会将你带到现有联系人的列表。在命令栏上，选择 **“新建”**。
1. **“新建联系人”** 页面将打开。填写以下字段：
 - **名字:** 输入一个虚构的名字。
 - **姓氏:** 输入一个虚构的姓氏。
 - **电子邮件:** 输入自己的电子邮件地址（或可以从中接收邮件的地址）。
 - **地址 1：城市：**输入一个虚构的城市（对于此示例，我们使用**亚特兰蒂斯**）。这样可以轻松创建仅包含虚构联系人的细分。 
1. 在命令栏上，选择 **“保存并关闭”**。
1. 创建第二个与刚刚创建的类似的联系人。使用不同的电子邮件地址和虚构城市，但使用不同的名字和姓氏。
1. 在命令栏上，选择 **“保存并关闭”**。
1. 前往 **“客户”** > **“细分”**。这会将你带到现有细分的列表。在命令栏上，选择 **“新建动态细分”**。
1. 将出现一个弹出屏幕，可以在其中选择细分模板。单击 **“取消”**。
1. **“新建细分”** 页面将打开。
1. **Dynamics 365 Marketing** 将创建一个人口统计细分，其中已经包含针对联系人实体的查询。通过检查查询块顶部下拉列表中显示的值，你可以看到正在查询的 **“联系人”** 实体。 
1. 你的细分中现在不包含任何筛选器（子句行），这意味着将查找你的数据库中的所有联系人。但是我们仅希望查找刚才新建的测试联系人，所以我们需要添加一个筛选器。
1. **“选择属性”** 字段将打开一个下拉列表，其中显示联系人实体的所有可用属性。然后键入“城市”以筛选此列表，再从列表中选择 **“地址1:”** 列表中的 **“城市”**。
1. 现在将向行添加两个新的下拉列表。将下一个下拉列表保留设置为 **“等于”**。这是运算符，用于定义如何测试 **“联系人”** 实体 **“地址 1: 城市”** 字段中的值。其他运算符包括 **“包含”**、 **“开头为”**、 **“包含数据”** 等，具体取决于你使用的值类型（字符串、数字、日期等）。
1. 选择第三个下拉列表（其中包含虚影文本 **“输入文本”**），并键入为测试联系人选择的虚构城市名称（，例如，如果选择的是“亚特兰蒂斯”，则输入它）。
1. 选择查询顶部的字段（其中包含虚影文本 **“输入细分名称”**），然后输入细分的名称（如“来自亚特兰蒂斯的联系人”）。
1. 选择命令栏中的 **“保存”** 保存细分，然后选择 **“发布”** 发布细分（即使已保存，你也无法在客户旅程中使用它，直到发布）。Dynamics 365 Marketing 检查细分是否有错误，并报告发现的任何问题。如果报告错误，请修复它，然后重试。如果未找到错误，你的细分将被复制到市场营销服务，使其可供客户旅程使用。
1. 等待大约一分钟，然后在命令栏中选择 **“刷新”** 刷新页面。现在应该可以看到已添加了一个 **“成员”** 选项卡（如果未看到，再等一段时间，然后再次尝试 **“刷新”**，直到看到）。显示 **“成员”** 选项卡时，将其打开，可以发现细分中包含之前添加的两个虚构联系人。

### 生成市场活动 

**场景:** 你需要创建执行一次性电子邮件群发的客户旅程。

1. 前往 **“营销执行”** > **“客户旅程”**。这将带你到现有客户旅程的列表。在命令栏上选择 **“新建”**。
1. **“新建客户旅程”** 页面将打开，并显示 **“选择客户旅程模板”** 对话框。选择 **“空白模板”**，然后选择 **“选择”**。对话框关闭，选择的模板会复制到新旅程。
1. 现在呈现在你面前的是客户旅程设计器，你将在其中组合定义旅程每个步骤的管道。与所有旅程一样，这也从参与者开始，在这种情况下，参与者是你指定为市场细分一部分的人。将 **“细分”** 磁贴从 **“工具箱”** 选项卡拖到管道的第一个位置。
1. 选择新 **“细分组”** 磁贴右下角的“展开”按钮，查看该组的成员细分。现在只有一个细分，所以选择它。
1. 在仍然选择嵌套细分的情况下，打开画布右侧的 **“属性”** 选项卡。 **“属性”** 选项卡提供应用于所选磁贴的设置。将 **“细分”** 设置为要通过市场活动定位的细分的名称。
1. 返回 **“工具箱”** 选项卡并将 **“营销电子邮件”** 磁贴拖动到紧邻 **“细分组”** 磁贴右侧的空白处。
1. 在仍然选择新的 **“电子邮件”** 磁贴的情况下，再次打开 **“属性”** 选项卡。将 **“营销电子邮件”** 设置为之前在本实验室的“创建引人入胜的电子邮件”部分创建的邮件的名称。  
1. 到目前为止，你一直在 **“设计器”** 选项卡上工作。现在前往 **“常规”** 选项卡，你可以在其中对旅程命名并配置其运行计划。在此处进行以下设置：
 - **名称：** 输入你以后可以轻松识别的客户旅程的名称。此名称仅供内部使用。
 - **开始日期和时间:** 输入历程应该开始处理联系人的时间。选择此字段后，会提供建议的默认时间。
 - **结束日期和时间:** 输入旅程应该停止处理联系人的时间。此时所有操作都将停止，即使有些联系人仍在旅程中。如果只是在测试，请等几周时间。
 - **时区:** 选择你当地的时区（如果需要）。页面中的其他日期和时间将依据此区域显示。 
 - **内容设置:** 这应该已设置为给你的实例设置的默认内容设置记录。 
1. 在命令栏上，选择 **“保存”** 来保存到目前为止完成的工作。
1. 要确保旅程包含所有必需的内容和设置，请在命令栏中选择 **“检查错误”**。**Dynamics 365 Marketing** 将检查它，然后显示结果。如果发现错误，则会在窗口顶部看到一条消息，并且各种指示器会显示问题所在。例如，如果其中一个磁贴配置错误，则会在相关磁贴上方看到错误计数，并且可通过选择磁贴并打开其属性选项卡来查看有关错误的详细信息。
1. 如果按照此过程操作，并且你的电子邮件是活动的，那么你的旅程应该会通过错误检查。如果没有，请阅读错误消息，修复报告中的问题，然后再次尝试直到通过。
1. 你的旅程已经准备好了。要开始运行，在命令栏上选择 **“上线”** 来发布它。
1. Dynamics 365 Marketing 将旅程复制到其电子邮件市场营销服务，该服务通过在旅行被设置为运行期间处理联系人、执行操作和收集结果来执行旅程。旅程的 **“状态描述”** 更新为“活动”。
1. 你的邮件可能需要几分钟才能发送，因此请留出一些时间让它们到达收件箱。完成后，打开它们并加载图像。然后可以返回 Dynamics 365 Marketing，查看旅程的进展情况。 **“设计器”** 选项卡现在显示管道中每个磁贴的信息和结果。打开 **“见解”** 选项卡查看详细分析。


